<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ning.blog.repository.TipsMapper">

    <select id="getTipsById" resultType="Tips">
        select * from tips where id = #{id};
    </select>

    <insert id="insertTips" parameterType="Tips" useGeneratedKeys="true" keyProperty="id">
        `zn_tips` INSERT INTO `ning_blog`.`zn_tips` (
        `userId`,
        `createTime`,
        `updateTime`,
        `content`,
        `weight`,
        `commentId`,
        `like`,
        `dislike`
        )
        VALUES
        (
        #{userId},
        #{createTime},
        #{updateTime},
        #{content},
        #{weight},
        #{commentId},
        #{like},
        #{dislike}
        );
    </insert>

    <update id="updateTips" parameterType="Tips">
        UPDATE `zn_tips`
        <trim prefix="SET" suffixOverrides="AND">
            <if test="userId != null">
                userId = #{userId} AND
            </if>
            <if test="createTime != null">
                createTime = #{createTime} AND
            </if>
            <if test="updateTime != null">
                updateTime = #{updateTime} AND
            </if>
            <if test="content != null and content != ''">
                content = #{content} AND
            </if>
            <if test="weight != null and weight != ''">
                weight = #{weight} AND
            </if>
            <if test="commentId != null">
                commentId = #{commentId} AND
            </if>
            <if test="like != null">
                like = #{like} AND
            </if>
            <if test="dislike != null">
                like = #{dislike} AND
            </if>
        </trim>
        <where>
            `id` = #{id};
        </where>
    </update>

    <delete id="deleteTips">
        DELETE FROM zn_tips WHERE id = #{id}
    </delete>

</mapper>